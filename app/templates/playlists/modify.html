{% extends "layout.html" %}
{% block content %}
<div class="row">
	<div class="col s12">
		<h5>{{ playlist.name }}</h5>
	</div>
</div>

<div class="row">
	<div class="col s12"
		<p>Playlist Master: {{ playlist.master }}</p>
	</div>
</div>

{% if playlist.tracks %}
{% for track in playlist.tracks %}
<div class="row">
	<div class="col s12">
		<ul class="collapsible" data-collapsible="expandable">
			<li>
				<div class="collapsible-header active">
					<strong>Track Information</strong>
				</div>
				<div class="collapsible-body">
					<div class="row">
						<div class="col s4">
							<div class="img-dec">
								<img src="{{ track.album.art }}" class="responsive-img" />
							</div>
						</div>
						<div class="col s8">
							<div class="section">
								<span class="grey-text">title</span>
								<div class="seperator"></div>
								<strong>{{ track.title }}</strong>
							</div>
							<div class="section">
								<span class="grey-text">artist</span>
								<div class="seperator"></div>
								<strong>{{ track.artists[0].name }}</strong>
							</div>
							<div class="section">
								<span class="grey-text">album</span>
								<div class="seperator"></div>
								<strong>{{ track.album.name }}</strong>
							</div>
						</div>
					</div>
				</div>
			</li>
			<li>
				<div class="collapsible-header">
					<strong>Spotify Track Information</strong>
				</div>
				<div class="collapsible-body">
					<div class="row">
					{% if track.spotify_data %}
						<div class="col s4">
							<div class="img-dec">
								<img src="{{ track.spotify_data.album.art }}" class="responsive-img" />
							</div>
						</div>
						<div class="col s8">
							<div class="section">
								<span class="grey-text">title</span>
								<div class="seperator"></div>
								<strong>{{ track.spotify_data.title }}</strong>
							</div>
							<div class="section">
								<span class="grey-text">artist</span>
								<div class="seperator"></div>
								<strong>{{ track.spotify_data.artists[0].name }}</strong>
							</div>
							<div class="section">
								<span class="grey-text">album</span>
								<div class="seperator"></div>
								<strong>{{ track.spotify_data.album.name }}</strong>
							</div>
						</div>
					{% else %}
						<div class="col s12">
							<p class="grey-text"><em>No Spotify Track data yet...</em></p>
						</div>
					{% endif %}
					</div>
				</div>
			</li>
			<li>
				<div class="collapsible-header">
					<strong>Google Play Music Track</strong>
				</div>
				<div class="collapsible-body">
					<div class="row">
					{% if track.google_data %}
						<div class="col s4">
							<div class="img-dec">
								<img src="{{ track.google_data.album.art }}" class="responsive-img" />
							</div>
						</div>
						<div class="col s8">
							<div class="section">
								<span class="grey-text">title</span>
								<div class="seperator"></div>
								<strong>{{ track.google_data.title }}</strong>
							</div>
							<div class="section">
								<span class="grey-text">artist</span>
								<div class="seperator"></div>
								<strong>{{ track.google_data.artists[0].name }}</strong>
							</div>
							<div class="section">
								<span class="grey-text">album</span>
								<div class="seperator"></div>
								<strong>{{ track.google_data.album.name }}</strong>
							</div>
						</div>
					{% else %}
						<div class="col s12">
							<p class="grey-text"><em>No Google Play Music Track data yet...</em></p>
						</div>
					{% endif %}
					</div>
				</div>
			</li>
		</ul>
	</div>
</div>
{% endfor %}
{% endif %}

<div class="row">
	<div class="col s12 right-align">
		<a class="btn red left" href="/playlists/{{ playlist._id }}/delete">Delete</a>
		<a class="btn-flat" href="/playlists/{{ playlist._id }}">Cancel Editing</a>
		<a class="btn deep-orange lighten-2" href="/playlists/{{ playlist._id }}/process">Publish Playlists</a>
	</div>
</div>
{% endblock %}